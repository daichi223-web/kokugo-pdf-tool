@tailwind base;
@tailwind components;
@tailwind utilities;

/* =============================================================================
   グローバルスタイル
   ============================================================================= */

* {
  box-sizing: border-box;
}

body {
  @apply bg-gray-100 text-gray-900;
  font-family: 'Yu Gothic', 'Meiryo', sans-serif;
}

/* カスタムスクロールバー */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-gray-200;
}

::-webkit-scrollbar-thumb {
  @apply bg-gray-400 rounded;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-gray-500;
}

/* ドロップゾーン */
.dropzone {
  @apply border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer transition-colors;
}

.dropzone:hover {
  @apply border-blue-400 bg-blue-50;
}

.dropzone.active {
  @apply border-blue-500 bg-blue-100;
}

/* プログレスバー */
.progress-bar {
  @apply h-2 bg-gray-200 rounded-full overflow-hidden;
}

.progress-bar-fill {
  @apply h-full bg-blue-500 transition-all duration-300;
}

/* エディター */
.editor-container {
  @apply flex gap-4 h-full;
}

.editor-panel {
  @apply flex-1 bg-white rounded-lg shadow overflow-hidden;
}

.editor-panel-header {
  @apply px-4 py-2 bg-gray-50 border-b font-medium;
}

.editor-panel-content {
  @apply p-4 overflow-auto h-[calc(100%-40px)];
}

/* テキストエリア */
.text-editor {
  @apply w-full h-full resize-none border-0 focus:ring-0 focus:outline-none font-mono text-sm leading-relaxed;
  writing-mode: horizontal-tb;
}

/* サムネイル */
.thumbnail {
  @apply relative cursor-pointer rounded overflow-hidden border-2 border-transparent transition-all;
}

.thumbnail:hover {
  @apply border-blue-300;
}

.thumbnail.active {
  @apply border-blue-500;
}

.thumbnail-badge {
  @apply absolute top-1 right-1 px-1.5 py-0.5 text-xs rounded-full;
}

/* キャンバス */
.layout-canvas {
  @apply relative bg-white shadow-lg;
}

.layout-canvas-grid {
  background-image:
    linear-gradient(to right, #e5e7eb 1px, transparent 1px),
    linear-gradient(to bottom, #e5e7eb 1px, transparent 1px);
}

/* スニペット */
.snippet {
  @apply absolute cursor-move border-2 border-transparent hover:border-blue-400;
  overflow: visible;
}

.snippet.selected {
  @apply border-blue-500 shadow-lg;
}

.snippet-handle {
  @apply absolute w-4 h-4 bg-blue-500 border-2 border-white rounded-full;
  z-index: 20;
}

.snippet-handle:hover {
  @apply bg-blue-600 scale-125;
}

/* ツールバー */
.toolbar {
  @apply flex items-center gap-2 px-4 py-2 bg-white border-b;
}

.toolbar-button {
  @apply p-2 rounded hover:bg-gray-100 transition-colors;
}

.toolbar-button.active {
  @apply bg-blue-100 text-blue-600;
}

/* タブ */
.tab {
  @apply px-4 py-2 font-medium text-gray-600 border-b-2 border-transparent cursor-pointer transition-colors;
}

.tab:hover {
  @apply text-gray-900;
}

.tab.active {
  @apply text-blue-600 border-blue-600;
}

/* モーダル */
.modal-overlay {
  @apply fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50;
}

.modal-content {
  @apply bg-white rounded-lg shadow-xl max-w-lg w-full mx-4;
}

/* トースト */
.toast {
  @apply fixed bottom-4 right-4 px-4 py-3 rounded-lg shadow-lg text-white z-50;
}

.toast-success {
  @apply bg-green-500;
}

.toast-error {
  @apply bg-red-500;
}

.toast-info {
  @apply bg-blue-500;
}

/* 縦書きレイアウト */
.ocr-vertical-layout {
  writing-mode: vertical-rl;
  text-orientation: upright;
  display: flex;
  flex-direction: row;
  gap: 1.5rem;
  padding: 1rem;
  font-family: "Yu Mincho", "游明朝", "Hiragino Mincho Pro", serif;
  line-height: 1.8;
  height: 100%;
  overflow-x: auto;
}

.ocr-vertical-layout .ocr-column {
  display: flex;
  flex-direction: column;
  min-height: 100%;
}

.ocr-vertical-layout .ocr-block {
  margin-bottom: 0.5em;
}

/* 横書きレイアウト */
.ocr-horizontal-layout {
  writing-mode: horizontal-tb;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  padding: 1rem;
  font-family: "Yu Mincho", "游明朝", "Hiragino Mincho Pro", serif;
  line-height: 1.8;
}

.ocr-horizontal-layout .ocr-row {
  display: flex;
  flex-wrap: wrap;
  gap: 0.25rem;
}

.ocr-horizontal-layout .ocr-block {
  margin-right: 0.25em;
}

/* レイアウトプレビューコンテナ */
.layout-preview {
  @apply bg-amber-50 border border-amber-200 rounded-lg overflow-auto;
  min-height: 300px;
  max-height: 100%;
}
